<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-concepts" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.3.2">
<title data-rh="true">개념 가이드 | 🦜🔗 랭체인 자바스크립트</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://js.langchain.com/v0.2/img/brand/theme-image.png"><meta data-rh="true" name="twitter:image" content="https://js.langchain.com/v0.2/img/brand/theme-image.png"><meta data-rh="true" property="og:url" content="https://langchainjs-kr.site/docs/concepts"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="개념 가이드 | 🦜🔗 랭체인 자바스크립트"><meta data-rh="true" name="description" content="이 섹션에는 LangChain의 주요 파트에 대한 소개를 담고 있습니다."><meta data-rh="true" property="og:description" content="이 섹션에는 LangChain의 주요 파트에 대한 소개를 담고 있습니다."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://langchainjs-kr.site/docs/concepts"><link data-rh="true" rel="alternate" href="https://langchainjs-kr.site/docs/concepts" hreflang="en"><link data-rh="true" rel="alternate" href="https://langchainjs-kr.site/docs/concepts" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.dc650e42.css">
<script src="/assets/js/runtime~main.def1a083.js" defer="defer"></script>
<script src="/assets/js/main.bfce8238.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/brand/wordmark.png" alt="🦜🔗 랭체인 자바스크립트" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/brand/wordmark-dark.png" alt="🦜🔗 랭체인 자바스크립트" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/docs/integrations/platforms">통합</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/froggy1014/langchainjs-kr" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/introduction">소개</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/tutorials">튜토리얼</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/tutorials/graph">그래프 데이터베이스를 통한 질문/답변 애플리케이션 만들기</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/tutorials">튜토리얼</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/tutorials/llm_chain">간단한 LLM 애플리케이션 만들기</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/tutorials/query_analysis">Build a Query Analysis System</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/tutorials/chatbot">챗봇 만들기</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/tutorials/agents">에이전트 만들기</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/tutorials/extraction">추출 체인 만들기</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/tutorials/summarization">텍스트 요약하기</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/tutorials/classification">Tagging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/tutorials/local_rag">로컬 RAG 애플리케이션 만들기</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/tutorials/qa_chat_history">대화형 RAG 애플리케이션 만들기</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/tutorials/rag">검색-증강 생성 (RAG) 애플리케이션 만들기</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/tutorials/sql_qa">SQL 데이터를 통한 질문/답변 시스템 만들기</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/how_to">사용 가이드</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to">사용 가이드</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/example_selectors">How to use example selectors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/streaming_llm">How to stream responses from an LLM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/chat_streaming">How to stream chat model responses</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/embed_text">How to embed text data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/few_shot_examples_chat">How to use few shot examples in chat models</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/llm_caching">How to cache model responses</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/chat_model_caching">How to cache chat model responses</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/custom_llm">How to create a custom LLM class</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/few_shot_examples">How to use few shot examples</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/output_parser_structured">How to use output parsers to parse an LLM response into structured format</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/structured_output">How to return structured data from a model</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/tools_prompting">How to add ad-hoc tool calling capability to LLMs and Chat Models</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/custom_chat">How to create a custom chat model class</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/qa_per_user">How to do per-user retrieval</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/chat_token_usage_tracking">How to track token usage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/llm_token_usage_tracking">How to track token usage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/passthrough">How to pass through arguments from one step to the next</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/prompts_composition">How to compose prompts together</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/agent_executor">How to use legacy LangChain Agents (AgentExecutor)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/assign">How to add values to a chain&#x27;s state</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/binding">How to attach runtime arguments to a Runnable</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/caching_embeddings">How to cache embedding results</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/callbacks_attach">How to attach callbacks to a module</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/callbacks_backgrounding">How to make callbacks run in the background</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/callbacks_constructor">How to pass callbacks into a module constructor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/callbacks_runtime">How to pass callbacks in at runtime</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/character_text_splitter">How to split by character</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/chatbots_memory">How to manage memory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/chatbots_retrieval">How to do retrieval</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/chatbots_tools">How to use tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/code_splitter">How to split code</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/contextual_compression">How to do retrieval with contextual compression</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/custom_callbacks">How to create custom callback handlers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/custom_retriever">How to write a custom retriever class</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/custom_tools">How to create custom Tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/debugging">How to debug your LLM apps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/document_loader_csv">How to load CSV data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/document_loader_custom">How to write a custom document loader</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/document_loader_directory">How to load data from a directory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/document_loader_html">How to load HTML</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/document_loader_markdown">How to load Markdown</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/document_loader_pdf">How to load PDF files</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/document_loaders_json">How to load JSON data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/example_selectors_length_based">How to select examples by length</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/example_selectors_similarity">How to select examples by similarity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/extraction_examples">How to use reference examples</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/extraction_long_text">How to handle long text</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/extraction_parse">How to do extraction without using function calling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/fallbacks">Fallbacks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/few_shot">Few Shot Prompt Templates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/functions">How to run custom functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/graph_constructing">How to construct knowledge graphs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/graph_mapping">How to map values to a database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/graph_prompting">How to improve results with prompting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/graph_semantic">How to add a semantic layer over the database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/indexing">How to reindex data to keep your vectorstore in-sync with the underlying data source</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/lcel_cheatsheet">LangChain Expression Language Cheatsheet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/logprobs">How to get log probabilities</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/message_history">How to add message history</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/multi_vector">How to generate multiple embeddings per document</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/multiple_queries">How to generate multiple queries to retrieve data for</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/output_parser_fixing">How to try to fix errors in output parsing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/output_parser_json">How to parse JSON output</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/output_parser_xml">How to parse XML output</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/parallel">How to invoke runnables in parallel</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/parent_document_retriever">How to retrieve the whole document for a chunk</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/prompts_partial">How to partially format prompt templates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/qa_chat_history_how_to">How to add chat history to a question-answering chain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/qa_citations">How to return citations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/qa_sources">How to return sources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/qa_streaming">How to stream from a question-answering chain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/query_constructing_filters">How to construct filters</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/query_few_shot">How to add examples to the prompt</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/query_high_cardinality">How to deal with high cardinality categorical variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/query_multiple_queries">How to handle multiple queries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/query_multiple_retrievers">How to handle multiple retrievers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/query_no_queries">How to handle cases where no queries are generated</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/recursive_text_splitter">How to recursively split text by characters</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/reduce_retrieval_latency">How to reduce retrieval latency</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/routing">How to route execution within a chain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/self_query">How to do &quot;self-querying&quot; retrieval</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/sequence">How to chain runnables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/split_by_token">How to split text by tokens</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/sql_large_db">How to deal with large databases</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/sql_prompting">How to use prompting to improve results</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/sql_query_checking">How to do query validation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/streaming">How to stream</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/time_weighted_vectorstore">How to create a time-weighted retriever</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/tool_calling">How to use a chat model to call tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/tool_calls_multi_modal">How to call tools with multi-modal data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/tools_builtin">How to use LangChain tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/vectorstore_retriever">How use a vector store to retrieve data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs/how_to/vectorstores">How to create and query vector stores</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item concepts"><a class="menu__link menu__link--active" aria-current="page" href="/docs/concepts">개념 가이드</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">생태계</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://docs.smith.langchain.com/" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">🦜🛠️ LangSmith<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://langchain-ai.github.io/langgraphjs/" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">🦜🕸️ LangGraph.js<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">  버전</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/versions/overview">개요</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/versions/v0_2">v0.2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/versions/release_policy">릴리즈 정책</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/versions/packages">패키지</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item security"><a class="menu__link" href="/docs/security">보안</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">개념 가이드</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>개념 가이드</h1>
<p>이 섹션에는 LangChain의 주요 파트에 대한 소개를 담고 있습니다.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="아키텍쳐">아키텍쳐<a href="#아키텍쳐" class="hash-link" aria-label="Direct link to 아키텍쳐" title="Direct link to 아키텍쳐">​</a></h2>
<p>LangChain 프레임워크는 여러 구성 요소로 이루어져 있습니다. 아래 다이어그램은 요소들 간의 관계를 보여줍니다.</p>
<!-- -->
<img src="/svg/langchain_stack.svg" alt="Diagram outlining the hierarchical organization of the LangChain framework, displaying the interconnected parts across multiple layers." class="themedComponent_mlkZ themedComponent--light_NVdE" title="LangChain Framework Overview"><img src="/svg/langchain_stack_dark.svg" alt="Diagram outlining the hierarchical organization of the LangChain framework, displaying the interconnected parts across multiple layers." class="themedComponent_mlkZ themedComponent--dark_xIcU" title="LangChain Framework Overview">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="langchaincore"><code>@langchain/core</code><a href="#langchaincore" class="hash-link" aria-label="Direct link to langchaincore" title="Direct link to langchaincore">​</a></h3>
<p>이 패키지는 다양한 구성 요소의 기본 추상화와 이를 결합하는 방법을 포함하고 있습니다.
LLMs, 벡터 스토어, 검색기 등 핵심 구성 요소의 인터페이스가 여기서 정의됩니다.
여기에는 써드파티 통합이 정의되지 않습니다.
의존성은 의도적으로 매우 가볍게 유지됩니다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="langchaincommunity"><code>@langchain/community</code><a href="#langchaincommunity" class="hash-link" aria-label="Direct link to langchaincommunity" title="Direct link to langchaincommunity">​</a></h3>
<p>이 패키지는 LangChain 커뮤니티에서 유지 관리하는 써드파티 통합을 포함하고 있습니다.
주요 파트너 패키지는 별도로 분리되어 있습니다(아래 참조).
이 패키지에는 다양한 구성 요소(LLMs, 벡터 스토어, 검색기 등)에 대한 모든 통합이 포함됩니다.
이 패키지의 모든 의존성은 패키지를 가능한 가볍게 유지하기 위해 필요한 경우에만 설치할 수 있습니다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="파트너-패키지">파트너 패키지<a href="#파트너-패키지" class="hash-link" aria-label="Direct link to 파트너 패키지" title="Direct link to 파트너 패키지">​</a></h3>
<p><code>@langchain/community</code>에 다양한 소규모 패키지 통합이 지속적으로 일어나는 동안, 인기 많은 통합은 별도의 패키지로 분리했습니다 (예: <code>langchain-openai</code>, <code>langchain-anthropic</code> 등).
이는 이러한 중요한 통합에 대한 지원을 개선하기 위해 수행되었습니다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="langchain"><code>langchain</code><a href="#langchain" class="hash-link" aria-label="Direct link to langchain" title="Direct link to langchain">​</a></h3>
<p><code>langchain</code> 주요 패키지에는 애플리케이션의 인지 아키텍처를 구성하는 체인, 에이전트, 검색 전략이 포함되어 있습니다.
이 구성요소들은 써드파티 통합이 아닙니다.
여기에 있는 모든 체인, 에이전트, 검색 전략은 특정 통합에 국한되지 않고 모든 통합에서 일반적으로 사용될 수 있습니다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="langgraphjs"><a href="https://langchain-ai.github.io/langgraphjs/" target="_blank" rel="noopener noreferrer">LangGraph.js</a><a href="#langgraphjs" class="hash-link" aria-label="Direct link to langgraphjs" title="Direct link to langgraphjs">​</a></h3>
<p>LangGraph.js는 LLMs(대형 언어 모델)을 사용하여 강력하고 상태를 유지하는 멀티 액터 애플리케이션을 구축하기 위해 단계들을 그래프의 엣지와 노드로 모델링하는 <code>langchain</code>의 확장형입니다.</p>
<p>LangGraph는 일반적인 유형의 에이전트를 만들기 위한 고급 인터페이스뿐만 아니라 더 많은 제어를 위한 저수준 API도 제공합니다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="langsmith"><a href="https://docs.smith.langchain.com" target="_blank" rel="noopener noreferrer">LangSmith</a><a href="#langsmith" class="hash-link" aria-label="Direct link to langsmith" title="Direct link to langsmith">​</a></h3>
<p>LLM 애플리케이션을 디버그, 테스트, 평가 및 모니터링할 수 있는 개발자 플랫폼입니다.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="installation">Installation<a href="#installation" class="hash-link" aria-label="Direct link to Installation" title="Direct link to Installation">​</a></h2>
<p>고수준의 추상화를 사용하고 싶다면 <code>langchain</code> 패키지를 설치해야 합니다.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">npm i langchain</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>특정 통합 패키지를 사용하려면 해당 패키지를 별도로 설치해야 합니다.
통합 목록 및 설치 방법은 <a href="/docs/integrations/platforms">여기</a>에서 확인할 수 있습니다.</p>
<p>LangSmith를 사용하려면 <a href="https://smith.langchain.com" target="_blank" rel="noopener noreferrer">여기</a>에서 LangSmith 개발자 계정을 설정하고 API 키를 받아야 합니다.
그 후, 환경 변수를 설정하여 이를 활성화할 수 있습니다:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">export LANGCHAIN_TRACING_V2=true</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">export LANGCHAIN_API_KEY=ls__...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="langchain-expression-language">LangChain Expression Language<a href="#langchain-expression-language" class="hash-link" aria-label="Direct link to LangChain Expression Language" title="Direct link to LangChain Expression Language">​</a></h2>
<p>LangChain Expression Language(LCEL)은 선언적으로 체인을 쉽게 구성할 수 있는 방법입니다.
LCEL은 처음부터 <strong>코드 변경 없이 프로토타입을 프로덕션에 투입할 수 있도록</strong> 설계되었습니다. 가장 간단한 “프롬프트 + LLM” 체인부터 가장 복잡한 체인까지 지원합니다
(우리는 사람들이 프로덕션에서 100단계 이상의 LCEL 체인을 성공적으로 실행하는 것을 보았습니다). LCEL을 사용하고 싶은 몇 가지 이유를 강조하자면 다음과 같습니다:</p>
<p><strong>일급 스트리밍 지원</strong>
LCEL로 체인을 구성하면 첫 번째 토큰까지의 시간을 최적으로 단축할 수 있습니다(첫 번째 출력 청크가 나올 때까지 경과 시간). 일부 체인의 경우, 예를 들어, 우리는 LLM에서 스트리밍 출력 파서로 바로 토큰을 스트리밍하고, LLM 제공자가 원시 토큰을 출력하는 속도와 동일한 속도로 파싱된 증분 출력 청크를 받게 됩니다.</p>
<p><strong>최적화된 병렬 실행</strong>
LCEL 체인의 단계들이 병렬로 실행될 수 있을 때마다(예: 여러 검색기에서 문서를 가져오는 경우) 가능한 최소 지연 시간으로 자동으로 실행됩니다.</p>
<p><strong>재시도 및 폴백</strong>
LCEL 체인의 모든 부분에 대해 재시도 및 폴백을 구성할 수 있습니다. 이는 대규모로 체인의 신뢰성을 높이는 훌륭한 방법입니다. 현재 재시도/폴백에 대한 스트리밍 지원을 추가하는 작업을 진행 중이며, 지연 시간 비용 없이 추가적인 신뢰성을 얻을 수 있습니다.</p>
<p><strong>중간 결과 접근</strong>
더 복잡한 체인의 경우 최종 출력이 생성되기 전에도 중간 단계의 결과에 액세스하는 것이 매우 유용할 때가 많습니다. 이를 통해 최종 사용자에게 무언가가 진행 중임을 알리거나 체인을 디버그할 수 있습니다. 중간 결  과를 스트리밍할 수 있으며, 이는 모든 <a href="https://www.langchain.com/langserve/" target="_blank" rel="noopener noreferrer">LangServe</a> 서버에서 사용할 수 있습니다.</p>
<p><strong>입력 및 출력 스키마</strong>
입력 및 출력 스키마는 체인의 구조에서 유추된 스키마를 각 LCEL 체인에 제공합니다. 이는 입력 및 출력의 유효성 검증에 사용될 수 있으며, LangServe의 필수 구성 요소입니다.</p>
<p><a href="https://docs.smith.langchain.com" target="_blank" rel="noopener noreferrer"><strong>매끄러운 LangSmith 추적</strong></a>
체인이 점점 더 복잡해짐에 따라 각 단계에서 정확히 무슨 일이 일어나고 있는지 이해하는 것이 점점 더 중요해집니다.
LCEL을 사용하면 <strong>모든</strong> 단계에 대해서 최대한의 관찰, 디버깅을 위해 자동으로 <a href="https://docs.smith.langchain.com" target="_blank" rel="noopener noreferrer">LangSmith</a>에 로그됩니다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="인터페이스">인터페이스<a href="#인터페이스" class="hash-link" aria-label="Direct link to 인터페이스" title="Direct link to 인터페이스">​</a></h3>
<p>커스텀 체인을 쉽게 만들 수 있도록 <a href="https://v02.api.js.langchain.com/classes/langchain_core_runnables.Runnable.html" target="_blank" rel="noopener noreferrer">&quot;Runnable&quot;</a> 프로토콜을 구현했습니다.
많은 LangChain 구성 요소는 <code>Runnable</code> 프로토콜을 구현하며, 여기에는 채팅 모델, LLM, 출력 파서, 검색기, 프롬프트 템플릿 등이 포함됩니다. 또한 런너블과 함께 작업할 때 유용한 여러 가지 기본 요소가 있으며, 이에 대해 아래에서 자세히 읽을 수 있습니다.</p>
<p>이것은 표준 인터페이스로, 맞춤형 체인을 정의하고 표준 방식으로 호출하기 쉽게 만듭니다.
표준 인터페이스에는 다음이 포함됩니다:</p>
<ul>
<li><a href="#stream"><code>stream</code></a>: 응답의 청크를 스트리밍으로 반환</li>
<li><a href="#invoke"><code>invoke</code></a>: 입력에서 체인을 호출</li>
<li><a href="#batch"><code>batch</code></a>: 입력 배열에서 체인을 호출</li>
</ul>
<p><strong>입력 타입</strong>과 <strong>출력 타입</strong>은 컴포넌트에 따라 다릅니다:</p>
<table><thead><tr><th>컴포넌트</th><th>입력 타입</th><th>출력 타입</th></tr></thead><tbody><tr><td>프롬프트</td><td>객체</td><td>프롬프트 값</td></tr><tr><td>채팅모델</td><td>단일 문자열, 채팅 메시지 목록 또는 프롬프트 값</td><td>채팅 메세지</td></tr><tr><td>LLM</td><td>단일 문자열, 채팅 메시지 목록 또는 프롬프트 값</td><td>문자열</td></tr><tr><td>출력파서</td><td>LLM 또는 채팅모델의 출력</td><td>파서에 따라 다름</td></tr><tr><td>검색기</td><td>단일 문자열</td><td>문서 목록</td></tr><tr><td>도구</td><td>도구에 따라 단일 문자열 또는 객체</td><td>도구에 따라 다름</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="컴포넌트">컴포넌트<a href="#컴포넌트" class="hash-link" aria-label="Direct link to 컴포넌트" title="Direct link to 컴포넌트">​</a></h2>
<p>LangChain은 LLM을 사용하여 빌드하는 데 유용한 다양한 컴포넌트에 대해 표준화되고 확장 가능한 인터페이스 및 외부 통합 기능을 제공합니다.
일부 컴포넌트는 LangChain에서 구현하고, 일부 컴포넌트는 써드파티 통합을 활용하며, 나머지는 혼용됩니다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="llms">LLMs<a href="#llms" class="hash-link" aria-label="Direct link to LLMs" title="Direct link to LLMs">​</a></h3>
<p>LLM은 문자열을 입력으로 받아 문자열을 반환하는 언어 모델입니다.
이들은 전통적으로 구형 모델이며(신형 모델은 일반적으로 <code>채팅모델</code>입니다, 아래 참조).</p>
<p>기본 모델은 입력 문자열과 출력 문자열을 처리하지만, LangChain 래퍼는 이 모델이 메시지를 입력으로 받을 수 있도록 합니다.
이를 통해 이 모델들은 채팅모델들과 상호 교환이 가능합니다.
메시지가 입력으로 전달될 때, 기본 모델에 전달되기 전에 내부적으로 문자열로 포매팅됩니다.</p>
<p>LangChain은 자체 LLM을 제공하지 않으며, 써드파티 통합에 의존합니다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="채팅-모델">채팅 모델<a href="#채팅-모델" class="hash-link" aria-label="Direct link to 채팅 모델" title="Direct link to 채팅 모델">​</a></h3>
<p>채팅 모델은 메시지의 시퀀스를 입력으로 사용하고 채팅 메시지를 출력으로 반환하는 언어 모델입니다 (단순 텍스트를 사용하는 것과는 다릅니다).
이들은 대체로 신형 모델이며(구형 모델은 일반적으로 <code>LLMs</code>입니다, 위 참조).
채팅 모델은 대화 메시지에 고유한 역할을 할당하는 것을 지원하여, AI, 사용자 및 시스템 메시지와 같은 지시사항의 메시지를 구분하는 데 도움이 됩니다.</p>
<p>기본 모델은 메시지를 입력으로 받아 메시지를 출력하지만, LangChain 래퍼는 이 모델이 문자열을 입력으로 받을 수 있도록 합니다.
이를 통해 이 모델들은 LLM과 상호 교환이 가능하며, 사용이 더 간단해집니다.
문자열이 입력으로 전달되면, 기본 모델에 전달되기 전에 내부적으로 HumanMessage로 변환됩니다.</p>
<p>LangChain은 자체 채팅모델들을 제공하지 않으며, 써드파티 통합에 의존합니다.</p>
<p>우리는 채팅모델들을 구성할 때 일부 표준화된 매개변수를 사용합니다:</p>
<ul>
<li><code>model</code>: 모델의 이름</li>
</ul>
<p>채팅모델은 또한 해당 통합에 특화된 다른 매개변수도 받기도 합니다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="함수도  구-호출">함수/도구 호출<a href="#함수도구-호출" class="hash-link" aria-label="Direct link to 함수/도구 호출" title="Direct link to 함수/도구 호출">​</a></h3>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>우리는 도구 호출이라는 용어를 함수 호출과 교차하여 사용합니다. 함수 호출은 때때로 단일 함수의 호출을 의미하지만,
우리는 모든 모델이 각 메시지에서 여러 도구 또는 함수 호출을 반환할 수 있는 것처럼 취급합니다.</p></div></div>
<p>도구 호출은 모델이 사용자 정의 스키마와 일치하는 출력을 생성하여 주어진 프롬프트에 응답할 수 있도록 합니다.
용어 자체는 모델이 어떤 작업을 수행하는 것처럼 보이지만, 실제로는 그렇지 않습니다! 모델은 도구의 인자를 제시하며,
실제로 도구를 실행할지 여부는 사용자에게 달려 있습니다. 예를 들어, 비구조화된 텍스트에서
<a href="/docs/tutorials/extraction">스키마와 일치하는 출력을 추출</a>하려는 경우,
원하는 스키마와 일치하는 매개변수를 갖는 &quot;추출&quot; 도구를 모델에 제공한 다음, 생성된 출력을 최종 결과로 취급할 수 있습니다.</p>
<p>도구 호출에는 이름, 인수 객체 및 선택적 식별자가 포함됩니다. 인수 객체는
<code>{ argumentName: argumentValue }</code> 형태로 구조화됩니다.</p>
<p><a href="https://www.anthropic.com/" target="_blank" rel="noopener noreferrer">Anthropic</a>, <a href="https://cohere.com/" target="_blank" rel="noopener noreferrer">Cohere</a>,
<a href="https://cloud.google.com/vertex-ai" target="_blank" rel="noopener noreferrer">Google</a>, <a href="https://mistral.ai/" target="_blank" rel="noopener noreferrer">Mistral</a>,
<a href="https://openai.com/" target="_blank" rel="noopener noreferrer">OpenAI</a> 등과 같은 LLM 프로바이더들은 도구 호출 기능의 변형을 지원합니다.
이러한 기능은 일반적으로 LLM에 대한 요청에 사용 가능한 도구와 그 스키마를 포함할 수 있도록 하며,
응답에는 이러한 도구 호출이 포함될 수 있습니다. 예를 들어, 검색 엔진 도구가 주어진 경우,
LLM은 검색 엔진에 대한 호출을 먼저 실행하여 쿼리를 처리할 수 있습니다.
LLM을 호출하는 시스템은 도구 호출을 수신하고, 이를 실행하여 그 출력을 LLM에 반환하여 응답을 알릴 수 있습니다.
LangChain은 <a href="/docs/integrations/tools">내장 도구</a> 세트를 포함하고 있으며,
<a href="/docs/how_to/custom_tools">커스텀 도구</a>를 사용자가 직접 정의할 수 있는 여러 방법을 지원합니다.</p>
<p>함수/도구 호출에는 크게 두 가지 유즈 케이스가 있습니다:</p>
<ul>
<li><a href="/docs/how_to/structured_output">LLM으로부터 정형 데이터를 반환하는 법</a></li>
<li><a href="/docs/how_to/tool_calling">모델을 사용해서 도구를 호출하는 법</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="메시지-타입">메시지 타입<a href="#메시지-타입" class="hash-link" aria-label="Direct link to 메시지 타입" title="Direct link to 메시지 타입">​</a></h3>
<p>일부 언어 모델은 메시지 배열을 입력으로 받아 메시지를 반환합니다.
몇 가지 다른 타입의 메시지가 있습니다.
모든 메시지는 <code>role</code>, <code>content</code>, <code>response_metadata</code> 속성을 가지고 있습니다.</p>
<p><code>role</code>은 메시지를 누가 말하고 있는지를 설명합니다.
LangChain은 다양한 역할에  대해 다른 메시지 클래스를 가지고 있습니다.</p>
<p><code>content</code> 속성은 메시지의 내용을 설명합니다.
이는 몇 가지 다른 타입일 수 있습니다:</p>
<ul>
<li>문자열 (대부분의 모델은 이 타입으로 콘텐츠를 처리합니다)</li>
<li>객체 목록 (이는 객체가 해당 입력 타입과 입력 위치에 대한 정보를 포함하는 멀티모달 입력에 사용됩니다)</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="humanmessage">HumanMessage<a href="#humanmessage" class="hash-link" aria-label="Direct link to HumanMessage" title="Direct link to HumanMessage">​</a></h4>
<p>유저로부터의 메시지를 나타냅니다.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="aimessage">AIMessage<a href="#aimessage" class="hash-link" aria-label="Direct link to AIMessage" title="Direct link to AIMessage">​</a></h4>
<p>이것은 모델에서 온 메시지를 나타냅니다. <code>content</code> 속성 외에도 이러한 메시지는 다음과 같은 속성을 가지고 있습니다:</p>
<p><strong><code>response_metadata</code></strong></p>
<p><code>response_metadata</code> 속성은 응답에 대한 추가 메타데이터를 포함합니다. 이 데이터는 종종 각 모델 프로바이더에 따라 다릅니다. 여기에는 로그 확률 및 토큰 사용량과 같은 정보가 저장될 수 있습니다.</p>
<p><strong><code>tool_calls</code></strong></p>
<p>이것은 도구를 호출하려는 언어 모델의 결정을 나타냅니다. <code>AIMessage</code> 출력의 일부로 포함됩니다. 이들은 <code>.tool_calls</code> 속성을 통해 접근할 수 있습니다.</p>
<p>이 속성은 객체 배열을 반환합니다. 각 객체는 다음과 같은 키를 가집니다:</p>
<ul>
<li><code>name</code>: 호출해야 하는 도구의 이름.</li>
<li><code>args</code>: 해당 도구에 대한 인수.</li>
<li><code>id</code>: 해당 도구 호출의 ID.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="systemmessage">SystemMessage<a href="#systemmessage" class="hash-link" aria-label="Direct link to SystemMessage" title="Direct link to SystemMessage">​</a></h4>
<p>이것은 모델에게 어떻게 행동해야 하는지 알려주는 시스템 메시지를 나타냅니다. 모든 모델 프로바이더가 이를 지원하는 것은 아닙니다.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="functionmessage">FunctionMessage<a href="#functionmessage" class="hash-link" aria-label="Direct link to FunctionMessage" title="Direct link to FunctionMessage">​</a></h4>
<p>이것은 함수 호출의 결과를 나타냅니다. <code>role</code>과 <code>content</code> 외에도, 이 메시지에는 이 결과를 생성하기 위해 호출된 함수의 이름을 전달하는 <code>name</code> 매개변수가 있습니다.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="toolmessage">ToolMessage<a href="#toolmessage" class="hash-link" aria-label="Direct link to ToolMessage" title="Direct link to ToolMessage">​</a></h4>
<p>이것은 도구 호출의 결과를 나타냅니다. 이는 OpenAI의 <code>function</code> 및 <code>tool</code> 메시지 타입과 일치하기 위해 FunctionMessage와 구별됩니다. <code>role</code>과 <code>content</code> 외에도, 이 메시지에는 이 결과를 생성하기 위해 호출된 도구 호출의 ID를 전달하는 <code>tool_call_id</code> 매개변수가 있습니다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="prompttemplate">PromptTemplate<a href="#prompttemplate" class="hash-link" aria-label="Direct link to PromptTemplate" title="Direct link to PromptTemplate">​</a></h3>
<p>프롬프트 템플릿은 사용자 입력과 매개변수를 언어 모델에 대한 지시로 변환하는 데 도움이 됩니다.
이를 통해 모델이 컨텍스트를 이해하고 관련성 있고 일관된 언어 기반 출력을 생성할 수 있도록 도와줍니다.</p>
<p>프롬프트 템플릿은 객체를 입력으로 받는데, 각 키는 프롬프트 템플릿에서 입력할 변수를 나타냅니다.</p>
<p>프롬프트 템플릿은 PromptValue를 출력합니다. 이 PromptValue는 LLM 또는 채팅모델에 전달될 수 있으며, 문자열이나 메시지 배열로 변환될 수도 있습니다.
이 PromptValue가 존재하는 이유는 문자열과 메시지 간에 쉽게 전환할 수 있도록 하기 위함입니다.</p>
<p>프롬프트 템플릿에는 몇 가지 다른 타입이 있습니다.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="string-prompttemplate">String PromptTemplate<a href="#string-prompttemplate" class="hash-link" aria-label="Direct link to String PromptTemplate" title="Direct link to String PromptTemplate">​</a></h4>
<p>이 프롬프트 템플릿은 단일 문자열을 포매팅하는 데 사용되며, 일반적으로 더 간단한 입력에 사용됩니다.
예를 들어, 프롬프트 템플릿을 구성하고 사용하는 일반적인 방법은 다음과 같습니다:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> PromptTemplate </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;@langchain/core/prompts&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> promptTemplate </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> PromptTemplate</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">fromTemplate</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;{topic}에 관련된 농담해줘&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token plain"> promptTemplate</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">invoke</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> topic</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;고양이&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="chatprompttemplate">ChatPromptTemplate<a href="#chatprompttemplate" class="hash-link" aria-label="Direct link to ChatPromptTemplate" title="Direct link to ChatPromptTemplate">​</a></h4>
<p>이 프롬프트 템플릿은 메시지 배열을 포매팅하는 데 사용됩니다. 이러한 &quot;템플릿&quot;은 자체적으로 템플릿 배열로 구성됩니다.
예를 들어, ChatPromptTemplate을 구성하고 사용하는 일반적인 방법은 다음과 같습니다:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> ChatPromptTemplate </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;@langchain/core/prompts&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> promptTemplate </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> ChatPromptTemplate</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">fromMessages</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;system&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;당신은 유능한 비서입니다&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;user&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;{topic}에 관련된 농담해줘&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token plain"> promptTemplate</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">invoke</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> topic</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;고양이&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>위 예제에서, 이 ChatPromptTemplate은 호출 시 두 개의 메시지로 구성됩니다.
첫 번째는 포매팅할 변수가 없는 시스템 메시지입니다.
두 번째는 HumanMessage이며, 사용자가 전달하는 <code>topic</code> 변수로 포매팅됩니다.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="messagesplaceholder">MessagesPlaceholder<a href="#messagesplaceholder" class="hash-link" aria-label="Direct link to MessagesPlaceholder" title="Direct link to MessagesPlaceholder">​</a></h4>
<p>이 프롬프트 템플릿은 특정 위치에 메시지 배열을 추가하는 역할을 합니다.
위의 ChatPromptTemplate에서 우리는 각각 문자열인 두 개의 메시지를 포매팅하는 방법을 보았습니다.
하지만 사용자가 특정 위치에 삽입할 메시지 배열을 전달하고 싶다면 어떻게 해야 할까요?
이것이 MessagesPlaceholder를 사용하는 방법입니다.</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  ChatPromptTemplate</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  MessagesPlaceholder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;@langchain/core/prompts&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> HumanMessage </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;@langchain/core/messages&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> promptTemplate </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> ChatPromptTemplate</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">fromMessages</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;system&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;너는 유능한 비서입니다.&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">MessagesPlaceholder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;msgs&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">promptTemplate</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">invoke</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> msgs</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HumanMessage</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> content</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;안녕!&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>이 방법은 두 개의 메시지 배열을 생성합니다. 첫 번째는 시스템 메시지이고, 두 번째는 우리가 전달한 HumanMessage입니다.
만약 우리가 5개의 메시지를 전달했다면, 총 6개의 메시지(시스템 메시지와 전달된 5개의 메시지)가 생 성됩니다.
이것은 메시지 배열을 특정 위치에 삽입하는 데 유용합니다.</p>
<p><code>MessagesPlaceholder</code> 클래스를 명시적으로 사용하지 않고 동일한 작업을 수행하는 또 다른 방법은 다음과 같습니다:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> promptTemplate </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> ChatPromptTemplate</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">fromMessages</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;system&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;너는 유능한 비서입니다.&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;placeholder&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;{msgs}&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// &lt;-- 변한 부분</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-selectors">Example Selectors<a href="#example-selectors" class="hash-link" aria-label="Direct link to Example Selectors" title="Direct link to Example Selectors">​</a></h3>
<p>더 나은 성능을 달성하기 위한 일반적인 프롬프트 기법 중 하나는 예제를 프롬프트의 일부로 포함하는 것입니다.
점점 더 많은 모델이 함수나 도구 호출을 자동으로 처리할 수 있게 지원하고 있습니다.
때때로 이러한 예제는 프롬프트에 하드코딩되지만, 더 복잡한 경우에서는 동적으로 선택하는 것이 좋을 수 있습니다.
Example Selectors는 예제를 선택한 다음 프롬프트에 포매팅하는 역할을 하는 클래스입니다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="output-parsers">Output parsers<a href="#output-parsers" class="hash-link" aria-label="Direct link to Output parsers" title="Direct link to Output parsers">​</a></h3>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>여기서 말하는 정보는 모델에서 텍스트 출력을 받아 보다 구조화된 표현으로 파싱하는 파서를 의미합니다.
점점 더 많은 모델이 함수(또는 도구) 호출을 자동 처리를 지원합니다.
출력 파싱보다는 함수/도구 호출을 사용하는 것이 좋습니다.
자세한 내용은 <a href="/docs/concepts#function-tool-calling">여기</a>에서 확인하세요.</p></div></div>
<p>모델의 출력을 가져와 다운스트림 작업에 더 적합한 형식으로 변환하는 역할을 합니다.
LLM을 사용하여 구조화된 데이터를 생성하거나, 모델 및 LLM의 출력을 정규화할 때 유용합니다.</p>
<p>출력 파서가 구현해야 하는 두 가지 주요 메서드는 다음과 같습니다:</p>
<ul>
<li>&quot;Get format instructions&quot;: 언어 모델의 출력이 어떻게 포매팅되어야 하는지에 대한 지침을 포함하는 문자열을 반환하는 메서드.</li>
<li>&quot;Parse&quot;: 문자열(언어 모델의 응답)을 입력으로 받아 이를 일부 구조로 파싱하는 메서드.</li>
</ul>
<p>그리고 선택적으로 구현할 수 있는 메서드가 하나 더 있습니다:</p>
<ul>
<li>&quot;Parse with prompt&quot;: 문자열(언어 모델의 응답)과 프롬프트(해당 응답을 생성한 프롬프트)를 입력으로 받아 이를 일부 구조로 파싱하는 메서드. 이 메서드는 OutputParser가 출력을 재시도하거나 수정하려는 경우, 프롬프트에서 정보를 얻기 위해 제공됩니다.</li>
</ul>
<p>출력 파서는 문자열 또는 <code>BaseMessage</code>를 입력으로 받아 임의의 타입을 반환할 수 있습니다.</p>
<p>LangChain에는 다양한 타입의 출력 파서가 있습니다. 다음은 LangChain이 지원하는 출력 파서 목록입니다. 아래 표에는 다양한 정보가 포함되어 있습니다:</p>
<p><strong>Name</strong>: 출력 파서의 이름</p>
<p><strong>Supports Streaming</strong>: 출력 파서가 스트리밍을 지원하는지 여부</p>
<p><strong>Input Type</strong>: 예상 입력 타입. 대부분의 출력 파서는 문자열과 메시지 모두에서 작동하지만, 일부(예: OpenAI Functions)는 특정 인수가 포함된 메시지가 필요합니다.</p>
<p><strong>Output Type</strong>: 파서가 반환하는 객체의 출력 유형</p>
<p><strong>Description</strong>: 이 출력 파서에 대한 설명 및 사용 시기</p>
<table><thead><tr><th>Name</th><th>Supports Streaming</th><th>Input Type</th><th>Output Type</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://v02.api.js.langchain.com/classes/langchain_core_output_parsers.JsonOutputParser.html" target="_blank" rel="noopener noreferrer">JSON</a></td><td>✅</td><td><code>string</code> | <code>BaseMessage</code></td><td><code>Promise&lt;T&gt;</code></td><td>지정된 JSON 객체를 반환 합니다. Zod 스키마를 지정할 수 있으며, 해당 모델에 대한 JSON을 반환합니다.</td></tr><tr><td><a href="https://v02.api.js.langchain.com/classes/langchain_core_output_parsers.XMLOutputParser.html" target="_blank" rel="noopener noreferrer">XML</a></td><td>✅</td><td><code>string</code> | <code>BaseMessage</code></td><td><code>Promise&lt;XMLResult&gt;</code></td><td>태그 객체를 반환합니다. XML 출력이 필요할 때 사용하십시오. Anthropic와 같이 XML 작성을 잘하는 모델과 함께 사용하십시오.</td></tr><tr><td><a href="https://v02.api.js.langchain.com/classes/langchain_core_output_parsers.CommaSeparatedListOutputParser.html" target="_blank" rel="noopener noreferrer">CSV</a></td><td>✅</td><td><code>string</code> | <code>BaseMessage</code></td><td><code>Array[string]</code></td><td>쉼표로 구분된 값의 배열을 반환합니다.</td></tr><tr><td><a href="https://v02.api.js.langchain.com/classes/langchain_core_output_parsers.StructuredOutputParser.html" target="_blank" rel="noopener noreferrer">Structured</a></td><td></td><td><code>string</code> | <code>BaseMessage</code></td><td><code>Promise&lt;TypeOf&lt;T&gt;&gt;</code></td><td>LLM 응답에서 구조화된 JSON을 파싱합니다.</td></tr><tr><td><a href="https://v02.api.js.langchain.com/classes/langchain_output_parsers.HttpResponseOutputParser.html" target="_blank" rel="noopener noreferrer">HTTP</a></td><td>✅</td><td><code>string</code></td><td><code>Promise&lt;Uint8Array&gt;</code></td><td>LLM 응답을 파싱하여 HTTP(s)로 전송합니다. 서버/에지에서 LLM을 호출한 후, 콘텐츠/스트림을 클라이언트로 다시 보내는 데 유용합니다.</td></tr><tr><td><a href="https://v02.api.js.langchain.com/classes/langchain_core_output_parsers.BytesOutputParser.html" target="_blank" rel="noopener noreferrer">Bytes</a></td><td>✅</td><td><code>string</code> | <code>BaseMessage</code></td><td><code>Promise&lt;Uint8Array&gt;</code></td><td>LLM 응답을 파싱하여 HTTP(s)로 전 송합니다. 서버/에지에서 클라이언트로 LLM 응답을 스트리밍하는 데 유용합니다.</td></tr><tr><td><a href="https://v02.api.js.langchain.com/classes/langchain_output_parsers.DatetimeOutputParser.html" target="_blank" rel="noopener noreferrer">Datetime</a></td><td></td><td><code>string</code></td><td><code>Promise&lt;Date&gt;</code></td><td>응답을 <code>Date</code> 형식으로 파싱합니다.</td></tr><tr><td><a href="https://v02.api.js.langchain.com/classes/langchain_output_parsers.RegexParser.html" target="_blank" rel="noopener noreferrer">Regex</a></td><td></td><td><code>string</code></td><td><code>Promise&lt;Record&lt;string, string&gt;&gt;</code></td><td>정규식 패턴을 사용하여 주어진 텍스트를 파싱하고, 파싱된 출력이 포함된 객체를 반환합니다.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="chat-history">Chat History<a href="#chat-history" class="hash-link" aria-label="Direct link to Chat History" title="Direct link to Chat History">​</a></h3>
<p>대부분의 LLM 애플리케이션에는 대화형 인터페이스가 있습니다.
대화의 필수 컴포넌트는 대화에서 이전에 도입된 정보를 참조할 수 있는 것 입니다.
최소한, 대화 시스템은 과거 메시지의 일부를 직접 액세스할 수 있어야 합니다.</p>
<p><code>ChatHistory</code> 개념은 임의의 체인을 래핑하는 데 사용할 수 있는 LangChain의 클래스에 해당합니다.
이 <code>ChatHistory</code>는 기본 체인의 입력과 출력을 추적하고, 이를 메시지 데이터베이스에 메시지로 추가합니다.
향후 상호 작용 시 이러한 메시지를 로드하여 입력의 일부로 체인에 전달합니다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="document">Document<a href="#document" class="hash-link" aria-label="Direct link to Document" title="Direct link to Document">​</a></h3>
<p>LangChain의 Document 객체는 일부 데이터에 대한 정보를 포함합니다. 여기엔 두 가지 속성이 있습니다:</p>
<ul>
<li><code>pageContent: string</code>: 이 문서의 콘텐츠. 현재는 문자열만 포함됩니다.</li>
<li><code>metadata: Record&lt;string, any&gt;</code>: 이 문서와 관련된 임의의 메타데이터로 문서 ID, 파일 이름 등을 추적할 수 있습니다.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="document-loaders">Document loaders<a href="#document-loaders" class="hash-link" aria-label="Direct link to Document loaders" title="Direct link to Document loaders">​</a></h3>
<p>이 클래스들은 Document 객체를 로드합니다. LangChain은 Slack, Notion, Google Drive 등 다양한 데이터 소스와의 수백 가지 통합을 통해 데이터를 로드할 수 있습니다.</p>
<p>각 DocumentLoader는 고유한 특정 매개변수를 가지고 있지만, 모두 동일한 방식으로 <code>.load</code> 메서드를 사용하여 호출할 수 있습니다.
유즈케이스는 다음과 같습니다:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> CSVLoader </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;langchain/document_loaders/fs/csv&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> loader </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">CSVLoader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// &lt;-- Integration specific parameters here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> docs </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token plain"> loader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">load</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="text-splitters">Text splitters<a href="#text-splitters" class="hash-link" aria-label="Direct link to Text splitters" title="Direct link to Text splitters">​</a></h3>
<p>문서를 로드한 후에는 본인의 애플리케이션에 더 적합하도록 변환하고 싶을 것입니다. 가장 간단한 예로, 긴 문서를 모델의 컨텍스트 창에 맞출 수 있는 더 작은 청크로 분할하고 싶을 수 있습니다. LangChain에는 문서를 분할, 결합, 필터링 및 기타 방법으로 조작할 수 있는 여러 내장 문서 변환기가 있습니다.</p>
<p>긴 텍스트를 처리하려면 텍스트를 청크로 분할해야 합니다. 듣기엔 단순해 보이지만, 이는 꽤나 복잡할 수 있습니다. 이상적으로, 의미적으로 관계가 있는 텍스트 청크들을 같은 선상에 두고 싶을 것입니다. &quot;의미적으로 관계가 있는&quot; 것이 무엇을 의미하는지는 텍스트의 유형에 따라 다를 수 있습니다. 이 노트북에서는 이를 수행하는 여러 가지 방법을 보여줍니다.</p>
<p>고 수준에서는, 텍스트 분할기는 다음과 같이 작동합니다:</p>
<ol>
<li>텍스트를 작고 의미적으로 관계가 있는 청크로 분할합니다 (종종 문장 단위).</li>
<li>이러한 작은 청크를 결합하여 특정 크기에 도달할 때까지 더 큰 청크로 만듭니다 (어떤 함수에 의해 측정된 크기).</li>
<li>그 크기에 도달하면 그 청크  를 독립된 텍스트로 만들고, 청크 간의 컨텍스트를 유지하기 위해 약간 겹치는 부분을 포함하여 새로운 청크를 생성하기 시작합니다.</li>
</ol>
<p>이는 텍스트 분할기를 맞춤 설정할 수 있는 두 가지 다른 축이 있음을 의미합니다:</p>
<ol>
<li>텍스트가 분할되는 방식</li>
<li>청크 크기를 측정하는 방식</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="embedding-models">Embedding models<a href="#embedding-models" class="hash-link" aria-label="Direct link to Embedding models" title="Direct link to Embedding models">​</a></h3>
<p>임베딩 클래스는 텍스트 임베딩 모델과 인터페이스하기 위해 설계된 클래스입니다. 많은 임베딩 모델 프로바이더(OpenAI, Cohere, Hugging Face 등)가 있으며, 이 클래스는 이들 모두에 대해 표준 인터페이스를 제공하도록 설계되었습니다.</p>
<p>임베딩은 텍스트 조각 표현하는 벡터를 생성합니다. 이는 벡터 공간에서 텍스트를 생각할 수 있게 해주며, 벡터 공간에서 가장 유사한 텍스트 조각을 찾는 의미 검색과 같은 작업을 수행할 수 있기 때문에 유용합니다.</p>
<p>LangChain의 기본 임베딩 클래스는 문서 임베딩과 쿼리 임베딩을 위한 두 가지 메서드를 제공합니다. 전자는 여러 텍스트를 입력으로 받고, 후자는 단일 텍스트를 입력으로 받습니다. 이를 두 개의 별도 메서드로 제공하는 이유는 일부 임베딩 프로바이더가 문서(검색 대상)와 쿼리(검색 쿼리 자체)에 대해 다른 임베딩 메서드를 가지고 있기 때문입니다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vectorstores">Vectorstores<a href="#vectorstores" class="hash-link" aria-label="Direct link to Vectorstores" title="Direct link to Vectorstores">​</a></h3>
<p>비구조화된 데이터를 저장하고 검색하는 가장 일반적인 방법 중 하나는 데이터를 임베딩하  고 결과 임베딩 벡터를 저장한 다음,
쿼리 시 비구조화된 쿼리를 임베딩하여 임베딩된 쿼리와 &#x27;가장 유사한&#x27; 임베딩 벡터를 검색하는 것입니다.
벡터 스토어는 임베딩된 데이터를 저장하고 벡터 검색을 수행하는 작업을 처리합니다.</p>
<p>벡터 스토어는 다음과 같이 검색 인터페이스로 변환할 수 있습니다:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> vectorstore </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">MyVectorStore</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> retriever </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> vectorstore</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">asRetriever</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="retrievers">Retrievers<a href="#retrievers" class="hash-link" aria-label="Direct link to Retrievers" title="Direct link to Retrievers">​</a></h3>
<p><code>Retriever</code>는 비구조화된 쿼리를 주면 관련 문서를 반환하는 인터페이스입니다.
벡터 스토어보다 더 일반적입니다.
retriever는 문서를 저장할 필요는 없고, 단지 반환(또는 검색)만 하면 됩니다.
retriever는 벡터 스토어에서 생성할 수 있지만, <a href="/docs/integrations/retrievers/exa">Exa 검색</a> (웹 검색) 및 <a href="/docs/integrations/retrievers/kendra-retriever">Amazon Kendra</a>를 포함할 만큼 광범위합니다.</p>
<p>retriever는 문자열 쿼리를 입력으로 받아 <code>Document</code> 배열을 출력으로 반환합니다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tools">Tools<a href="#tools" class="hash-link" aria-label="Direct link to Tools" title="Direct link to Tools">​</a></h3>
<p>도구는 에이전트, 체인 또는 LLM이 세상과 상호작용하는 데 사용할 수 있는 인터페이스입니다.
이들은 몇 가지를 결합합니다:</p>
<ol>
<li>도구의 이름</li>
<li>도구에 대한 설명</li>
<li>도구의 입력값에 대한 JSON 스키마</li>
<li>호출할 함수</li>
<li>도구의 결과를 사용자  에게 직접 반환할지 여부</li>
</ol>
<p>이 모든 정보를 갖는 것은 유용합니다. 왜냐하면 이 정보가 행동 수행 시스템을 구축하는 데 사용될 수 있기 때문입니다! 이름, 설명, 그리고 JSON 스키마는 LLM을 프롬프팅하여 어떤 행동을 취해야 할지를 알 수 있게 해주며, 호출할 함수는 그 행동을 취하는 것과 같습니다.</p>
<p>도구의 입력이 단순할수록 LLM이 이를 활용할 수 있는 가능성이 높아집니다.
많은 에이전트는 단일 문자열 입력을 갖는 도구와만 작동합니다.</p>
<p>중요한 점은, 이름, 설명, 그리고 JSON 스키마(사용되는 경우) 모두가 프롬프트에서 사용된다는 것입니다. 따라서, 이들이 명확하고 도구가 어떻게 사용되어야 하는지를 정확히 설명하는 것이 매우 중요합니다. LLM이 도구 사용 방법을 이해하지 못하는 경우 기본 이름, 설명 또는 JSON 스키마를 변경해야 할 수도 있습니다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="toolkits">Toolkits<a href="#toolkits" class="hash-link" aria-label="Direct link to Toolkits" title="Direct link to Toolkits">​</a></h3>
<p>Toolkits는 특정 작업을 위해 함께 사용하도록 설계된 도구 모음입니다. 이들은 편리한 로딩 방법을 제공합니다.</p>
<p>모든 toolkits는 도구 배열을 반환하는 <code>getTools</code> 메서드를 노출합니다.
따라서 다음과 같이 사용할 수 있습니다:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// Toolkit을 초기화 합니다.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> toolkit </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ExampleTookit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">...</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// tools 리스트</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> tools </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> toolkit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getTools</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="agents">Agents<a href="#agents" class="hash-link" aria-label="Direct link to Agents" title="Direct link to Agents">​</a></h3>
<p>언어 모델 자체로는 액션을 취할 수 없습니다. 단지 텍스트를 출력할 뿐이죠.
LangChain의 주 유즈케이스는 <strong>에이전트</strong>를 만드는 것입니다.
에이전트는 LLM을 추론 엔진으로 사용하여 어떤 액션을 취할지와 그 액션의 입력값이 무엇이어야 하는지를 결정하는 시스템입니다.
그 액션들의 결과는 다시 에이전트에 피드백되어 더 많은 액션이 필요한지, 아니면 완료해도 되는지를 결정합니다.</p>
<p><a href="https://github.com/langchain-ai/langgraphjs" target="_blank" rel="noopener noreferrer">LangGraph</a>는 고도로 제어 가능하고 맞춤화된 에이전트를 만드는 것을 목표로 한 LangChain의 확장형입니다.
에이전트 개념에 대한 더 깊이 알고 싶으시면 해당 <a href="https://langchain-ai.github.io/langgraphjs/" target="_blank" rel="noopener noreferrer">문서</a>를 확인해 보세요.</p>
<p>LangChain에는 사용 중단을 장려하는 <code>AgentExecutor</code>라는 기존 에이전트 개념이 있습니다.
AgentExecutor는 본질적으로 에이전트의 런타임이었습니다.
시작하기에는 훌륭한 도구였지만, 더 맞춤화된 에이전트를 만들기 시작하면 충분히 유연하지 않았습니다.
이를 해결하기 위해 고도로 제어 가능한 런타임을 제공하는 유연한 LangGraph를 구축했습니다.</p>
<p>아직 AgentExecutor를 사용 중이라면 걱정하지 마세요. <a href="/docs/how_to/agent_executor">AgentExecutor 사용 방법</a>에 대한 가이드를 여전히 제공하고 있습니다.
그러나 <a href="https://github.com/langchain-ai/langgraphjs" target="_blank" rel="noopener noreferrer">LangGraph</a>로 전환하는 것을 권장합니다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="callbacks">Callbacks<a href="#callbacks" class="hash-link" aria-label="Direct link to Callbacks" title="Direct link to Callbacks">​</a></h3>
<p>LangChain은 LLM 애플리케이션의 다양한 단계에 연결할 수 있는 콜백 시스템을 제공합니다. 이는 로깅, 모니터링, 스트리밍 및 기타 작업에 유용합니다.</p>
<p>API 전반에서 사용할 수 있는 <code>callbacks</code> 인수를 사용하여 이러한 이벤트를 구독할 수 있습니다. 이 인수는 하나 이상의 메서드를 구현하는 핸들러 객체 리스트로, 아래에 자세히 설명되어 있습니다.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="callback-handlers">Callback handlers<a href="#callback-handlers" class="hash-link" aria-label="Direct link to Callback handlers" title="Direct link to Callback handlers">​</a></h4>
<p><code>CallbackHandlers</code>는 구독할 수 있는 각 이벤트에 대한 메서드를 갖는 <a href="https://api.js.langchain.com/interfaces/langchain_core_callbacks_base.CallbackHandlerMethods.html" target="_blank" rel="noopener noreferrer"><code>CallbackHandler</code></a> 인터페이스를 구현하는 객체입니다.
이벤트가 발생하면 <code>CallbackManager</code>가 각 핸들러의 적절한 메서드를 호출합니다.</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">CallbackHandlerMethods</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  handleAgentAction</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">action</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> runId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> parentRunId</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> tags</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">Promise</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  handleAgentEnd</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">action</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> runId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> parentRunId</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> tags</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">Promise</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  handleChainEnd</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">outputs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> runId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> parentRunId</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> tags</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> kwargs</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">any</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  handleChainError</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> runId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> parentRunId</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> tags</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> kwargs</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">any</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  handleChainStart</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    chain</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    inputs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    runId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    parentRunId</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    tags</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    metadata</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    runType</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    name</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">any</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  handleChatModelStart</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llm</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    messages</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    runId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    parentRunId</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    extraParams</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    tags</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    metadata</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    name</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">any</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  handleLLMEnd</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">output</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> runId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> parentRunId</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> tags</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">any</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  handleLLMError</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> runId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> parentRunId</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> tags</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">any</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  handleLLMNewToken</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> idx</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> runId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> parentRunId</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> tags</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> fields</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">any</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  handleLLMStart</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llm</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    prompts</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    runId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    parentRunId</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    extraParams</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    tags</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    metadata</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    name</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">any</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  handleRetrieverEnd</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">documents</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> runId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> parentRunId</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> tags</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">any</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  handleRetrieverError</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> runId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> parentRunId</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> tags</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">any</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  handleRetrieverStart</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    retriever</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    runId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    parentRunId</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    tags</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    metadata</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    name</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">any</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  handleText</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">text</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> runId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> parentRunId</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> tags</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">Promise</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  handleToolEnd</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">output</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> runId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> parentRunId</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> tags</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">any</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  handleToolError</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> runId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> parentRunId</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> tags</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">any</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  handleToolStart</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    tool</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    input</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    runId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    parentRunId</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    tags</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    metadata</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    name</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">any</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="passing-callbacks">Passing callbacks<a href="#passing-callbacks" class="hash-link" aria-label="Direct link to Passing callbacks" title="Direct link to Passing callbacks">​</a></h4>
<p><code>callbacks</code> 속성은 API 전반의 대부분의 객체(모델, 도구, 에이전트 등)에서 두 가지 방식으로 사용할 수 있습니다:</p>
<ul>
<li><strong>Constructor callbacks</strong>: 생성자에서 정의되며, 예를 들어 <code>new ChatAnthropic({ callbacks: [handler], tags: [&quot;a-tag&quot;] })</code>와 같이 사용됩니다. 이 경우, 해당 객체에서 수행되는 모든 호출에 대해 콜백이 사용되며, 해당 객체에만 범위가 한정됩니다.
예를 들어, 생성자 콜백으로 채팅 모델을 초기화한 다음 체인 내에서 사용할 경우, 콜백은 해당 모델에 대한 호출에만 호출됩니다.</li>
<li><strong>Request callbacks</strong>: 요청을 호출하는 데 사용되는 <code>invoke</code> 메서드에 전달됩니다. 이 경우, 콜백은 해당 특정 요청과 그 요청에 포함된 모든 하위 요청(예: 모델 호출을 트리거하는 시퀀스 호출, <code>invoke()</code> 메서드에 전달된 동일한 핸들러 사용)에 대해서만 사용됩니다.
<code>invoke()</code> 메서드에서는 콜백이 config 매개변수를 통해 전달됩니다.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="techniques">Techniques<a href="#techniques" class="hash-link" aria-label="Direct link to Techniques" title="Direct link to Techniques">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiontool-calling">Function/tool calling<a href="#functiontool-calling" class="hash-link" aria-label="Direct link to Function/tool calling" title="Direct link to Function/tool calling">​</a></h3>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>우리는 도구 호출이라는 용어를 함수 호출과 교차하여 사용합니다. 함수 호출은 때때로 단일 함수의 호  출을 의미하지만, 우리는 모든 모델이 각 메시지에서 여러 도구 또는 함수 호출을 반환할 수 있는 것처럼 다룹니다.</p></div></div>
<p>도구 호출은 모델이 사용자 정의 스키마와 일치하는 출력을 생성하여 주어진 프롬프트에 응답할 수 있도록 합니다.
이름은 모델이 어떤 작업을 수행하는 것처럼 보이지만, 실제로는 그렇지 않습니다! 모델은 도구의 인수를 제시하며,
실제로 도구를 실행할지 여부는 사용자에게 달려 있습니다. 예를 들어, 비구조화된 텍스트에서 <a href="/docs/tutorials/extraction">스키마와 일치하는 출력을 추출</a>하려는 경우,
원하는 스키마와 일치하는 매개변수를 갖는 &quot;추출&quot; 도구를 모델에 제공한 다음, 생성된 출력을 최종 결과로 사용할 수 있습니다.</p>
<p>도구 호출에는 이름, 인수 사전, 그리고 선택적 식별자가 포함됩니다. 인수 사전은 <code>{argument_name: argument_value}</code> 형태로 구조화됩니다.</p>
<p>여러 LLM 프로바이더, 예를 들어 <a href="https://www.anthropic.com/" target="_blank" rel="noopener noreferrer">Anthropic</a>, <a href="https://cohere.com/" target="_blank" rel="noopener noreferrer">Cohere</a>,
<a href="https://cloud.google.com/vertex-ai" target="_blank" rel="noopener noreferrer">Google</a>, <a href="https://mistral.ai/" target="_blank" rel="noopener noreferrer">Mistral</a>, <a href="https://openai.com/" target="_blank" rel="noopener noreferrer">OpenAI</a>
등은 도구 호출 기능 변형을 지원합니다. 이러한 기능은 일반적으로 LLM에 대한 요청에 사용 가능한 도구와 그 스키마를 포함할 수 있도록 하며,
응답에는 이러한 도구 호출이 포함될 수 있습니다. 예를 들어, 검색 엔진 도구가 주어진 경우, LLM은 검색 엔진에 대한 호출을 먼저 발행하여 쿼리를 처리할 수 있습니다.
LLM을 호출하는 시스템은 도구 호출을 수신하고, 이를 실행하여 그 출력을 LLM에 반환하여 응답에 반영할 수 있습니다.
LangChain은 <a href="/docs/integrations/tools">내장 도구</a> 세트를 포함하고 있으며, 사용자 정의 <a href="/docs/how_to/custom_tools">커스텀 도구</a>를 정의하는 여러 방법을 지원합니다.</p>
<p>LangChain은 다양한 모델에서 일관된 도구 호출을 위한 표준 인터페이스를 제공합니다.</p>
<p>표준 인터페이스는 다음으로 구성됩니다:</p>
<ul>
<li><code>ChatModel.bindTools()</code>: 모델이 호출할 수 있는 도구를 지정하는 메서드.</li>
<li><code>AIMessage.toolCalls</code>: 모델이 요청한 도구 호출에 접근할 수 있는 <code>AIMessage</code>의 속성.</li>
</ul>
<p>함수/도구 호출의 주요 유즈 케이스는 두 가지입니다:</p>
<ul>
<li><a href="/docs/how_to/structured_output">LLM에서 구조화된 데이터를 반환하는 방법</a></li>
<li><a href="/docs/how_to/tool_calling">모델을 사용하여 도구를 호출하는 방법</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="retrieval">Retrieval<a href="#retrieval" class="hash-link" aria-label="Direct link to Retrieval" title="Direct link to Retrieval">​</a></h3>
<p>LangChain은 여러 고급 검색 유형을 제공합니다. 아래는 전체 목록과 함께 다음과 같은 정보가 포함되어 있습니다:</p>
<p><strong>Name</strong>: 검색 알고리즘의 이름.</p>
<p><strong>Index Type</strong>: 이 알고리즘이 의존하는 인덱스 유형(있는 경우).</p>
<p><strong>Uses an LLM</strong>: 이 검색 방법이 LLM을 사용하는지 여부.</p>
<p><strong>When to Use</strong>: 이 검색 방법을 고려해야 하는 시기에 대한 설명.</p>
<p><strong>Description</strong>: 이 검색 알고리즘이 수행하는 작업에 대한 설명.</p>
<table><thead><tr><th>Name</th><th>Index Type</th><th>Uses an LLM</th><th>When to Use</th><th>Description</th></tr></thead><tbody><tr><td><a href="/docs/how_to/vectorstore_retriever">Vectorstore</a></td><td>Vectorstore</td><td>No</td><td>빠르고 간단한 방법을 찾고 있는 초보자라면, 이 방법을 사용하세요.</td><td>가장 단순한 방법이며 시작하기에 가장 쉬운 방법입니다. 각 텍스트 조각에 대한 임베딩을 생성하는 것을 포함합니다.</td></tr><tr><td><a href="/docs/how_to/parent_document_retriever">ParentDocument</a></td><td>Vectorstore + Document Store</td><td>No</td><td>페이지에 개별적으로 인덱싱하는 것이 가장 좋지만, 함께 검색하는 것이 좋은 더 작은 정보 조각들이 많이 있는 경우.</td><td>이는 각 문서에 대해 여러 청크를 인덱싱하는 것을 포함합니다. 그런 다음 임베딩 공간에서 가장 유사한 청크를 찾지만, 개별 청크가 아닌 전체 상위 문서를 검색하여 반환합니다.</td></tr><tr><td><a href="/docs/how_to/multi_vector">Multi Vector</a></td><td>Vectorstore + Document Store</td><td>Sometimes during indexing</td><td>문서에서 텍스트 자체보다 인덱싱하기 더 적합한 정보를 추출할 수 있는 경우.</td><td>이는 각 문서에 대해 여러 벡터를 생성하는 것을 포함합니다. 각 벡터는 다양한 방법으로 생성될 수 있으며, 예를 들어 텍스트 요약과 가상 질문이 포함될 수 있습니다.</td></tr><tr><td><a href="/docs/how_to/self_query">Self Query</a></td><td>Vectorstore</td><td>Yes</td><td>사용자가 텍스트와의 유사성보다는 메타데이터를 기반으로 문서를 검색하는 것이 더 나은 질문을 하는 경우.</td><td>이는 사용자의 입력을 두 가지로 변환하기 위해 LLM을 사용합니다: (1) 의미적으로 검색할 문자열, (2) 이를 보완하는 메타데이터 필터. 이는 종종 질문이 문서의 내용이 아니라 메타데이터에 관한 경우에 유용합니다.</td></tr><tr><td><a href="/docs/how_to/contextual_compression">Contextual Compression</a></td><td>Any</td><td>Sometimes</td><td>검색된 문서에 너무 많은 관련 없는 정보가 포함되어 있어 LLM이 산만해지는 경우.</td><td>이는 다른 검색기 위에 후처리 단계를 추가하여 검색된 문서에서 가장 관련성이 높은 정보만 추출합니다. 이는 임베딩이나 LLM을 사용하여 수행할 수 있습니다.</td></tr><tr><td><a href="/docs/how_to/time_weighted_vectorstore">Time-Weighted Vectorstore</a></td><td>Vectorstore</td><td>No</td><td>문서에 타임스탬프가 연결되어 있고, 가장 최신의 문서를 검색하고자 하는 경우</td><td>이는 의미적 유사성(일반 벡터 검색처럼)과 최신성(색인화된 문서의 타임스탬프 확인)을 결합하여 문서를 검색합니다.</td></tr><tr><td><a href="/docs/how_to/multiple_queries">Multi-Query Retriever</a></td><td>Any</td><td>Yes</td><td>사용자가 복잡한 질문을 하고 여러 개의 독립된 정보가 필요한 경우</td><td>이는 LLM을 사용하여 원래의 질문에서 여러 개의 쿼리를 생성합니다. 이는 원래의 쿼리가 여러 주제에 대한 정보를 필요로 할 때 유용합니다. 여러 쿼리를 생성함으로써 각 쿼리에 대한 문서를 검색할 수 있습니다.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="text-splitting">Text splitting<a href="#text-splitting" class="hash-link" aria-label="Direct link to Text splitting" title="Direct link to Text splitting">​</a></h3>
<p>LangChain은 다양한 유형의 <code>text splitters</code>를 제공합니다.
이들은 주요 <code>langchain</code> 패키지에서 사용할 수 있지만, 별도의 <a href="https://www.npmjs.com/package/@langchain/textsplitters" target="_blank" rel="noopener noreferrer"><code>@langchain/textsplitters</code></a> 패키지에서 사용할 수도 있습니다.</p>
<p>표의 열:</p>
<ul>
<li><strong>Name</strong>: text splitter의 이름</li>
<li><strong>Classes</strong>: 이 text splitter를 구현하는 클래스</li>
<li><strong>Splits On</strong>: 이 text splitter가 텍스트를 분할하는 방식</li>
<li><strong>Adds Metadata</strong>: 각 청크의 출처에 대한 메타데이터를 추가하는지 여부</li>
<li><strong>Description</strong>: splitter에 대한 설명 및 사용 권장 사항</li>
</ul>
<table><thead><tr><th>Name</th><th>Classes</th><th>Splits On</th><th>Adds Metadata</th><th>Description</th></tr></thead><tbody><tr><td>Recursive</td><td><a href="/docs/how_to/recursive_text_splitter">RecursiveCharacterTextSplitter</a></td><td>유저가 정의한 문자의 리스트</td><td></td><td>재귀적으로 텍스트를 분할합니다. 이 분할은 관련된 텍스트 조각을 서로 가까이 유지하려고 합니다. 이것으로 텍스트 분할하는 것을 권장드립니다.</td></tr><tr><td>Code</td><td><a href="/docs/how_to/code_splitter">many languages</a></td><td>코드(Python, JS) 특화 문자</td><td></td><td>코딩 언어에 특화된 문자 기반으로 텍스트를 분할합니다. 총 15개의 다른 프로그래밍 언어를 선택할 수 있습니다.</td></tr><tr><td>Token</td><td><a href="/docs/how_to/split_by_token">many classes</a></td><td>토큰</td><td></td><td>토큰을 기준으로 텍스트를 분할합니다. 토큰을 측정하는 몇 가지 다른 방법이 존재합니다.</td></tr><tr><td>Character</td><td><a href="/docs/how_to/character_text_splitter">CharacterTextSplitter</a></td><td>유저가 정의한 문자</td><td></td><td>사용자가 정의한 문자를 기준으로 텍스트를 분할합니다. 더 간단한 방법 중 하나입니다.</td></tr></tbody></table></div><div style="display:flex;flex-direction:column"><hr><h4>Was this page helpful?</h4><div style="display:flex;gap:5px"><div style="display:flex;align-items:center;padding-top:10px;padding-bottom:10px;padding-left:22px;padding-right:22px;border:1px solid gray;border-radius:6px;gap:10px;cursor:pointer;font-size:16px;font-weight:600" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#166534" style="width:24px;height:24px"><path stroke-linecap="round" stroke-linejoin="round" d="M6.633 10.25c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282m0 0h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23H5.904m10.598-9.75H14.25M5.904 18.5c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 0 1-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 9.953 4.167 9.5 5 9.5h1.053c.472 0 .745.556.5.96a8.958 8.958 0 0 0-1.302 4.665c0 1.194.232 2.333.654 3.375Z"></path></svg></div><div style="display:flex;align-items:center;padding-top:10px;padding-bottom:10px;padding-left:22px;padding-right:22px;border:1px solid gray;border-radius:6px;gap:10px;cursor:pointer;font-size:16px;font-weight:600" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#991b1b" style="width:24px;height:24px"><path stroke-linecap="round" stroke-linejoin="round" d="M7.498 15.25H4.372c-1.026 0-1.945-.694-2.054-1.715a12.137 12.137 0 0 1-.068-1.285c0-2.848.992-5.464 2.649-7.521C5.287 4.247 5.886 4 6.504 4h4.016a4.5 4.5 0 0 1 1.423.23l3.114 1.04a4.5 4.5 0 0 0 1.423.23h1.294M7.498 15.25c.618 0 .991.724.725 1.282A7.471 7.471 0 0 0 7.5 19.75 2.25 2.25 0 0 0 9.75 22a.75.75 0 0 0 .75-.75v-.633c0-.573.11-1.14.322-1.672.304-.76.93-1.33 1.653-1.715a9.04 9.04 0 0 0 2.86-2.4c.498-.634 1.226-1.08 2.032-1.08h.384m-10.253 1.5H9.7m8.075-9.75c.01.05.027.1.05.148.593 1.2.925 2.55.925 3.977 0 1.487-.36 2.89-.999 4.125m.023-8.25c-.076-.365.183-.75.575-.75h.908c.889 0 1.713.518 1.972 1.368.339 1.11.521 2.287.521 3.507 0 1.553-.295 3.036-.831 4.398-.306.774-1.086 1.227-1.918 1.227h-1.053c-.472 0-.745-.556-.5-.96a8.95 8.95 0 0 0 .303-.54"></path></svg></div></div><br><h4>You can leave detailed feedback<!-- --> <a target="_blank" href="https://github.com/langchain-ai/langchainjs/issues/new?assignees=&amp;labels=03+-+Documentation&amp;projects=&amp;template=documentation.yml&amp;title=DOC%3A+%3CPlease+write+a+comprehensive+title+after+the+%27DOC%3A+%27+prefix%3E" rel="noreferrer">on GitHub</a>.</h4></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://langchainjs-kr.site/docs/concepts.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/how_to/vectorstores"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">How to create and query vector stores</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/versions/overview"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">개요</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#아키텍쳐" class="table-of-contents__link toc-highlight">아키텍쳐</a><ul><li><a href="#langchaincore" class="table-of-contents__link toc-highlight"><code>@langchain/core</code></a></li><li><a href="#langchaincommunity" class="table-of-contents__link toc-highlight"><code>@langchain/community</code></a></li><li><a href="#파트너-패키지" class="table-of-contents__link toc-highlight">파트너 패키지</a></li><li><a href="#langchain" class="table-of-contents__link toc-highlight"><code>langchain</code></a></li><li><a href="#langgraphjs" class="table-of-contents__link toc-highlight">LangGraph.js</a></li><li><a href="#langsmith" class="table-of-contents__link toc-highlight">LangSmith</a></li></ul></li><li><a href="#installation" class="table-of-contents__link toc-highlight">Installation</a></li><li><a href="#langchain-expression-language" class="table-of-contents__link toc-highlight">LangChain Expression Language</a><ul><li><a href="#인터페이스" class="table-of-contents__link toc-highlight">인터페이스</a></li></ul></li><li><a href="#컴포넌트" class="table-of-contents__link toc-highlight">컴포넌트</a><ul><li><a href="#llms" class="table-of-contents__link toc-highlight">LLMs</a></li><li><a href="#채팅-모델" class="table-of-contents__link toc-highlight">채팅 모델</a></li><li><a href="#함수도구-호출" class="table-of-contents__link toc-highlight">함수/도구 호출</a></li><li><a href="#메시지-타입" class="table-of-contents__link toc-highlight">메시지 타입</a></li><li><a href="#prompttemplate" class="table-of-contents__link toc-highlight">PromptTemplate</a></li><li><a href="#example-selectors" class="table-of-contents__link toc-highlight">Example Selectors</a></li><li><a href="#output-parsers" class="table-of-contents__link toc-highlight">Output parsers</a></li><li><a href="#chat-history" class="table-of-contents__link toc-highlight">Chat History</a></li><li><a href="#document" class="table-of-contents__link toc-highlight">Document</a></li><li><a href="#document-loaders" class="table-of-contents__link toc-highlight">Document loaders</a></li><li><a href="#text-splitters" class="table-of-contents__link toc-highlight">Text splitters</a></li><li><a href="#embedding-models" class="table-of-contents__link toc-highlight">Embedding models</a></li><li><a href="#vectorstores" class="table-of-contents__link toc-highlight">Vectorstores</a></li><li><a href="#retrievers" class="table-of-contents__link toc-highlight">Retrievers</a></li><li><a href="#tools" class="table-of-contents__link toc-highlight">Tools</a></li><li><a href="#toolkits" class="table-of-contents__link toc-highlight">Toolkits</a></li><li><a href="#agents" class="table-of-contents__link toc-highlight">Agents</a></li><li><a href="#callbacks" class="table-of-contents__link toc-highlight">Callbacks</a></li></ul></li><li><a href="#techniques" class="table-of-contents__link toc-highlight">Techniques</a><ul><li><a href="#functiontool-calling" class="table-of-contents__link toc-highlight">Function/tool calling</a></li><li><a href="#retrieval" class="table-of-contents__link toc-highlight">Retrieval</a></li><li><a href="#text-splitting" class="table-of-contents__link toc-highlight">Text splitting</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction">Docs</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>