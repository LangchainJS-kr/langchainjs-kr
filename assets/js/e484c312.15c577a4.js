"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6639,65],{18642:(n,t,e)=>{e.r(t),e.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>m,frontMatter:()=>a,metadata:()=>l,toc:()=>p});var o=e(74848),i=e(28453),s=e(78847);const a={},r="OpenAPI Agent Toolkit",l={id:"integrations/toolkits/openapi",title:"OpenAPI Agent Toolkit",description:"This example shows how to load and use an agent with a OpenAPI toolkit.",source:"@site/docs/integrations/toolkits/openapi.mdx",sourceDirName:"integrations/toolkits",slug:"/integrations/toolkits/openapi",permalink:"/docs/integrations/toolkits/openapi",draft:!1,unlisted:!1,editUrl:"https://langchainjs-kr.site/docs/integrations/toolkits/openapi.mdx",tags:[],version:"current",frontMatter:{},sidebar:"integrations",previous:{title:"JSON Agent Toolkit",permalink:"/docs/integrations/toolkits/json"},next:{title:"AWS Step Functions Toolkit",permalink:"/docs/integrations/toolkits/sfn_agent"}},c={},p=[...s.toc];function d(n){const t={code:"code",h1:"h1",p:"p",pre:"pre",...(0,i.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"openapi-agent-toolkit",children:"OpenAPI Agent Toolkit"}),"\n",(0,o.jsx)(t.p,{children:"This example shows how to load and use an agent with a OpenAPI toolkit."}),"\n","\n",(0,o.jsx)(s.default,{}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",metastring:"npm2yarn",children:"npm install @langchain/openai\n"})}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-typescript",children:'import * as fs from "fs";\nimport * as yaml from "js-yaml";\nimport { OpenAI } from "@langchain/openai";\nimport { JsonSpec, JsonObject } from "langchain/tools";\nimport { createOpenApiAgent, OpenApiToolkit } from "langchain/agents";\n\nexport const run = async () => {\n  let data: JsonObject;\n  try {\n    const yamlFile = fs.readFileSync("openai_openapi.yaml", "utf8");\n    data = yaml.load(yamlFile) as JsonObject;\n    if (!data) {\n      throw new Error("Failed to load OpenAPI spec");\n    }\n  } catch (e) {\n    console.error(e);\n    return;\n  }\n\n  const headers = {\n    "Content-Type": "application/json",\n    Authorization: `Bearer ${process.env.OPENAI_API_KEY}`,\n  };\n  const model = new OpenAI({ temperature: 0 });\n  const toolkit = new OpenApiToolkit(new JsonSpec(data), model, headers);\n  const executor = createOpenApiAgent(model, toolkit);\n\n  const input = `Make a POST request to openai /completions. The prompt should be \'tell me a joke.\'`;\n  console.log(`Executing with input "${input}"...`);\n\n  const result = await executor.invoke({ input });\n  console.log(`Got output ${result.output}`);\n\n  console.log(\n    `Got intermediate steps ${JSON.stringify(\n      result.intermediateSteps,\n      null,\n      2\n    )}`\n  );\n};\n'})}),"\n",(0,o.jsx)(t.h1,{id:"disclaimer-\ufe0f",children:"Disclaimer \u26a0\ufe0f"}),"\n",(0,o.jsx)(t.p,{children:"This agent can make requests to external APIs. Use with caution, especially when granting access to users."}),"\n",(0,o.jsx)(t.p,{children:"Be aware that this agent could theoretically send requests with provided credentials or other sensitive data to unverified or potentially malicious URLs --although it should never in theory."}),"\n",(0,o.jsx)(t.p,{children:"Consider adding limitations to what actions can be performed via the agent, what APIs it can access, what headers can be passed, and more."}),"\n",(0,o.jsx)(t.p,{children:"In addition, consider implementing measures to validate URLs before sending requests, and to securely handle and protect sensitive data such as credentials."})]})}function m(n={}){const{wrapper:t}={...(0,i.R)(),...n.components};return t?(0,o.jsx)(t,{...n,children:(0,o.jsx)(d,{...n})}):d(n)}},78847:(n,t,e)=>{e.r(t),e.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>s,metadata:()=>r,toc:()=>c});var o=e(74848),i=e(28453);const s={},a=void 0,r={id:"mdx_components/integration_install_tooltip",title:"integration_install_tooltip",description:"See this section for general instructions on installing integration packages.",source:"@site/docs/mdx_components/integration_install_tooltip.mdx",sourceDirName:"mdx_components",slug:"/mdx_components/integration_install_tooltip",permalink:"/docs/mdx_components/integration_install_tooltip",draft:!1,unlisted:!1,editUrl:"https://langchainjs-kr.site/docs/mdx_components/integration_install_tooltip.mdx",tags:[],version:"current",frontMatter:{}},l={},c=[];function p(n){const t={a:"a",admonition:"admonition",p:"p",...(0,i.R)(),...n.components};return(0,o.jsx)(t.admonition,{type:"tip",children:(0,o.jsxs)(t.p,{children:["See ",(0,o.jsx)(t.a,{href:"/docs/how_to/installation#installing-integration-packages",children:"this section for general instructions on installing integration packages"}),"."]})})}function d(n={}){const{wrapper:t}={...(0,i.R)(),...n.components};return t?(0,o.jsx)(t,{...n,children:(0,o.jsx)(p,{...n})}):p(n)}}}]);