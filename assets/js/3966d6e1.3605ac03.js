"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4347],{49587:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>d});var a=t(74848),s=t(28453);const o={sidebar_position:3,hide_table_of_contents:!0,sidebar_class_name:"node-only",sidebar_label:"Playwright"},i="Webpages, with Playwright",r={id:"integrations/document_loaders/web_loaders/web_playwright",title:"Webpages, with Playwright",description:"Only available on Node.js.",source:"@site/docs/integrations/document_loaders/web_loaders/web_playwright.mdx",sourceDirName:"integrations/document_loaders/web_loaders",slug:"/integrations/document_loaders/web_loaders/web_playwright",permalink:"/docs/integrations/document_loaders/web_loaders/web_playwright",draft:!1,unlisted:!1,editUrl:"https://langchainjs-kr.site/docs/integrations/document_loaders/web_loaders/web_playwright.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,hide_table_of_contents:!0,sidebar_class_name:"node-only",sidebar_label:"Playwright"},sidebar:"integrations",previous:{title:"Puppeteer",permalink:"/docs/integrations/document_loaders/web_loaders/web_puppeteer"},next:{title:"Apify Dataset",permalink:"/docs/integrations/document_loaders/web_loaders/apify_dataset"}},l={},d=[{value:"Setup",id:"setup",level:2},{value:"Usage",id:"usage",level:2},{value:"Options",id:"options",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"webpages-with-playwright",children:"Webpages, with Playwright"}),"\n",(0,a.jsx)(n.admonition,{title:"Compatibility",type:"tip",children:(0,a.jsx)(n.p,{children:"Only available on Node.js."})}),"\n",(0,a.jsx)(n.p,{children:"This example goes over how to load data from webpages using Playwright. One document will be created for each webpage."}),"\n",(0,a.jsx)(n.p,{children:"Playwright is a Node.js library that provides a high-level API for controlling multiple browser engines, including Chromium, Firefox, and WebKit. You can use Playwright to automate web page interactions, including extracting data from dynamic web pages that require JavaScript to render."}),"\n",(0,a.jsxs)(n.p,{children:["If you want a lighterweight solution, and the webpages you want to load do not require JavaScript to render, you can use the ",(0,a.jsx)(n.a,{href:"/docs/integrations/document_loaders/web_loaders/web_cheerio",children:(0,a.jsx)(n.code,{children:"CheerioWebBaseLoader"})})," instead."]}),"\n",(0,a.jsx)(n.h2,{id:"setup",children:"Setup"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",metastring:"npm2yarn",children:"npm install playwright\n"})}),"\n",(0,a.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:'import { PlaywrightWebBaseLoader } from "langchain/document_loaders/web/playwright";\n\n/**\n * Loader uses `page.content()`\n * as default evaluate function\n **/\nconst loader = new PlaywrightWebBaseLoader("https://www.tabnews.com.br/");\n\nconst docs = await loader.load();\n'})}),"\n",(0,a.jsx)(n.h2,{id:"options",children:"Options"}),"\n",(0,a.jsx)(n.p,{children:"Here's an explanation of the parameters you can pass to the PlaywrightWebBaseLoader constructor using the PlaywrightWebBaseLoaderOptions interface:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"type PlaywrightWebBaseLoaderOptions = {\n  launchOptions?: LaunchOptions;\n  gotoOptions?: PlaywrightGotoOptions;\n  evaluate?: PlaywrightEvaluate;\n};\n"})}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"launchOptions"}),": an optional object that specifies additional options to pass to the playwright.chromium.launch() method. This can include options such as the headless flag to launch the browser in headless mode."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"gotoOptions"}),": an optional object that specifies additional options to pass to the page.goto() method. This can include options such as the timeout option to specify the maximum navigation time in milliseconds, or the waitUntil option to specify when to consider the navigation as successful."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"evaluate"}),": an optional function that can be used to evaluate JavaScript code on the page using a custom evaluation function. This can be useful for extracting data from the page, interacting with page elements, or handling specific HTTP responses. The function should return a Promise that resolves to a string containing the result of the evaluation."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["By passing these options to the ",(0,a.jsx)(n.code,{children:"PlaywrightWebBaseLoader"})," constructor, you can customize the behavior of the loader and use Playwright's powerful features to scrape and interact with web pages."]}),"\n",(0,a.jsx)(n.p,{children:"Here is a basic example to do it:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:'import {\n  PlaywrightWebBaseLoader,\n  Page,\n  Browser,\n} from "langchain/document_loaders/web/playwright";\n\nconst url = "https://www.tabnews.com.br/";\nconst loader = new PlaywrightWebBaseLoader(url);\nconst docs = await loader.load();\n\n// raw HTML page content\nconst extractedContents = docs[0].pageContent;\n'})}),"\n",(0,a.jsx)(n.p,{children:"And a more advanced example:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:'import {\n  PlaywrightWebBaseLoader,\n  Page,\n  Browser,\n} from "langchain/document_loaders/web/playwright";\n\nconst loader = new PlaywrightWebBaseLoader("https://www.tabnews.com.br/", {\n  launchOptions: {\n    headless: true,\n  },\n  gotoOptions: {\n    waitUntil: "domcontentloaded",\n  },\n  /** Pass custom evaluate, in this case you get page and browser instances */\n  async evaluate(page: Page, browser: Browser, response: Response | null) {\n    await page.waitForResponse("https://www.tabnews.com.br/va/view");\n\n    const result = await page.evaluate(() => document.body.innerHTML);\n    return result;\n  },\n});\n\nconst docs = await loader.load();\n'})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}}}]);