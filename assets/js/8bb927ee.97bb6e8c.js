(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9861],{8394:(e,n,r)=>{"use strict";r.r(n),r.d(n,{assets:()=>p,contentTitle:()=>u,default:()=>m,frontMatter:()=>l,metadata:()=>c,toc:()=>y});var a=r(74848),t=r(28453),i=r(64428),s=r(80691),o=r.n(s);const l={},u="Layerup Security",c={id:"integrations/llms/layerup_security",title:"Layerup Security",description:"The Layerup Security integration allows you to secure your calls to any LangChain LLM, LLM chain or LLM agent. The LLM object wraps around any existing LLM object, allowing for a secure layer between your users and your LLMs.",source:"@site/docs/integrations/llms/layerup_security.mdx",sourceDirName:"integrations/llms",slug:"/integrations/llms/layerup_security",permalink:"/docs/integrations/llms/layerup_security",draft:!1,unlisted:!1,editUrl:"https://langchainjs-kr.site/docs/integrations/llms/layerup_security.mdx",tags:[],version:"current",frontMatter:{},sidebar:"integrations",previous:{title:"HuggingFaceInference",permalink:"/docs/integrations/llms/huggingface_inference"},next:{title:"Llama CPP",permalink:"/docs/integrations/llms/llama_cpp"}},p={},y=[{value:"Setup",id:"setup",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"layerup-security",children:"Layerup Security"}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.a,{href:"https://uselayerup.com",children:"Layerup Security"})," integration allows you to secure your calls to any LangChain LLM, LLM chain or LLM agent. The LLM object wraps around any existing LLM object, allowing for a secure layer between your users and your LLMs."]}),"\n",(0,a.jsx)(n.p,{children:"While the Layerup Security object is designed as an LLM, it is not actually an LLM itself, it simply wraps around an LLM, allowing it to adapt the same functionality as the underlying LLM."}),"\n",(0,a.jsx)(n.h2,{id:"setup",children:"Setup"}),"\n",(0,a.jsxs)(n.p,{children:["First, you'll need a Layerup Security account from the Layerup ",(0,a.jsx)(n.a,{href:"https://uselayerup.com",children:"website"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["Next, create a project via the ",(0,a.jsx)(n.a,{href:"https://dashboard.uselayerup.com",children:"dashboard"}),", and copy your API key. We recommend putting your API key in your project's environment."]}),"\n",(0,a.jsx)(n.p,{children:"Install the Layerup Security SDK:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",metastring:"npm2yarn",children:"npm install @layerup/layerup-security\n"})}),"\n",(0,a.jsx)(n.p,{children:"And install LangChain Community:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",metastring:"npm2yarn",children:"npm install @langchain/community\n"})}),"\n",(0,a.jsx)(n.p,{children:"And now you're ready to start protecting your LLM calls with Layerup Security!"}),"\n","\n",(0,a.jsx)(i.A,{language:"typescript",children:o()})]})}function m(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},80691:e=>{e.exports={content:'import {\n  LayerupSecurity,\n  LayerupSecurityOptions,\n} from "@langchain/community/llms/layerup_security";\nimport { GuardrailResponse } from "@layerup/layerup-security";\nimport { OpenAI } from "@langchain/openai";\n\n// Create an instance of your favorite LLM\nconst openai = new OpenAI({\n  modelName: "gpt-3.5-turbo",\n  openAIApiKey: process.env.OPENAI_API_KEY,\n});\n\n// Configure Layerup Security\nconst layerupSecurityOptions: LayerupSecurityOptions = {\n  // Specify a LLM that Layerup Security will wrap around\n  llm: openai,\n\n  // Layerup API key, from the Layerup dashboard\n  layerupApiKey: process.env.LAYERUP_API_KEY,\n\n  // Custom base URL, if self hosting\n  layerupApiBaseUrl: "https://api.uselayerup.com/v1",\n\n  // List of guardrails to run on prompts before the LLM is invoked\n  promptGuardrails: [],\n\n  // List of guardrails to run on responses from the LLM\n  responseGuardrails: ["layerup.hallucination"],\n\n  // Whether or not to mask the prompt for PII & sensitive data before it is sent to the LLM\n  mask: false,\n\n  // Metadata for abuse tracking, customer tracking, and scope tracking.\n  metadata: { customer: "example@uselayerup.com" },\n\n  // Handler for guardrail violations on the response guardrails\n  handlePromptGuardrailViolation: (violation: GuardrailResponse) => {\n    if (violation.offending_guardrail === "layerup.sensitive_data") {\n      // Custom logic goes here\n    }\n\n    return {\n      role: "assistant",\n      content: `There was sensitive data! I cannot respond. Here\'s a dynamic canned response. Current date: ${Date.now()}`,\n    };\n  },\n\n  // Handler for guardrail violations on the response guardrails\n  handleResponseGuardrailViolation: (violation: GuardrailResponse) => ({\n    role: "assistant",\n    content: `Custom canned response with dynamic data! The violation rule was ${violation.offending_guardrail}.`,\n  }),\n};\n\nconst layerupSecurity = new LayerupSecurity(layerupSecurityOptions);\nconst response = await layerupSecurity.invoke(\n  "Summarize this message: my name is Bob Dylan. My SSN is 123-45-6789."\n);\n',imports:[{local:"LayerupSecurity",imported:"LayerupSecurity",source:"@langchain/community/llms/layerup_security"},{local:"LayerupSecurityOptions",imported:"LayerupSecurityOptions",source:"@langchain/community/llms/layerup_security"},{local:"OpenAI",imported:"OpenAI",source:"@langchain/openai"}]}}}]);